<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"/>
		<meta name="renderer" content="webkit"/>
		<meta name="force-rendering" content="webkit"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
		<meta name="description" content="不想沉默开源镜像站">
		<meta name="keywords" content="镜像站,镜像源,Linux,软件源,开源">
		<link rel="stylesheet" href="css/mdui.min.css" />
		<title>不想沉默开源镜像站</title>
		<style>
			.logo{
				width: 271px;
				height: 50px;
				margin-top: 20px;
				margin-left: 0px;
			}
			.navigation{
				margin-top: 40px;
			}
			.navigation li{
				list-style: none;
				float: left;
				margin-left: 2vw;
			}
			.navigation li a{
				text-decoration: none;
				color: black;
			}
			.navigation li a:hover{
				color: #2196F3;
			}
			.first{
				margin-bottom: 10px;
			}
			.search{
				padding: 5px;
				margin-top: 15px;
				position: absolute;
				right: 0;
			}
			.line{
				width: 100%;
				border-color: gray;
				border-style: solid;
				border-top: 0px;
				margin-top: 10px;
			}
			.LI a{
				color: #2196F3;
			}
			.LI{
				padding: 7px 0 7px 0;
			}
			.LI:hover{
				background-color: #90CAF9;
			}
			.placard h3{
				margin-left: 20px;
			}
			.notice li,.link li{
				margin-top: 10px;
			}
			.notice li a,.link li a{
				text-decoration: none;
				color: black;
			}
			.swap li{
				margin-top: 10px;
			}
			.swap a{
				text-decoration: none;
				color: #448AFF;
			}
			.Footer{
				height: 250px;
				background-color: #607D8B;
				padding: 50px;
				line-height: 2;
			}
			.btn{
				position: absolute;
				right: 10px;
				margin-top: 20px;
				cursor: pointer;
			}
			.navigations li{
				padding: 10px;
			}
			.navigations{
				height: 0px;
				list-style: none;
				overflow: hidden;
				-webkit-transition: all 0.5s;
				transition: all 0.5s;
			}
			.navigations li a{
				color: black;
				text-decoration: none;
			}
		</style>
	</head>
	<body>
		<div class="mdui-container">
			<div class="mdui-row mdui-row-gapless first">
				<div class="mdui-col-md-8 mdui-col-xs-12">
					<a href="">
						<img src="img/logo.png" class="logo"/>
					</a>
					<i class="mdui-icon material-icons btn mdui-hidden-md-up" onclick="menu()">menu</i>
					<div class="panel mdui-hidden-md-up">
						<ul class="navigations">
							<li><a href="">HOME</a></li>
							<li><a href="">BLOG</a></li>
							<li><a href="">RSS</a></li>
							<li><a href="">MIRROS</a></li>
						</ul>
					</div>
				</div>
				<div class="mdui-col-md-4 mdui-hidden-sm-down">
					<ul class="navigation">
						<li><a href="">HOME</a></li>
						<li><a href="">BLOG</a></li>
						<li><a href="">RSS</a></li>
						<li><a href="">MIRROS</a></li>
					</ul>
				</div>
			</div>
			<div class="mdui-row mdui-row-gapless">
				<div class="mdui-col-md-8">
					<div class="mdui-row mdui-row-gapless">
						<div class="mdui-col-md-10 mdui-col-xs-10">
							 <h2><i class="mdui-icon material-icons">cloud_download</i>&nbsp;镜像列表</h2>
						</div>
						<div class="mdui-col-md-2 mdui-col-xs-2">
							<input type="text" spellcheck="false" placeholder="搜索" class="search" oninput="Search()"/>
						</div>
						<div class="mdui-row mdui-row-gapless">
							<div class="mdui-col-md-5 mdui-col-xs-5"><strong>Name</strong></div>
							<div class="mdui-col-md-3 mdui-col-xs-3"><strong>File Size</strong></div>
							<div class="mdui-col-md-4 mdui-col-xs-4"><strong>Last Update</strong></div>
						</div>
						<div class="mdui-row mdui-row-gapless">
							<div class="mdui-col-md-12">
								<div class="line"></div>
							</div>
						</div>
						<div id="tables"></div>
					</div>
				</div>
				<div class="mdui-col-md-4 placard">
					<div class="mdui-container">
						<div class="mdui-row mdui-row-gapless">
							<div class="mdui-col-md-12">
								<h3><i class="mdui-icon material-icons">volume_down</i>新闻公告</h3>
							</div>
						</div>
						<div class="mdui-row mdui-row-gapless">
							<div class="mdui-col-md-12">
								<ul class="notice">
									<li><a href="">2021-02-05 关于移除镜像的通知</a></li>
									<li><a href="">2021-01-07 关于移除镜像的通知</a></li>
									<li><a href="">2020-10-29 关于移除镜像中部分内容的通知</a></li>
								</ul>
							</div>
						</div>
						<div class="mdui-row mdui-row-gapless">
							<div class="mdui-col-md-12">
								<h3><i class="mdui-icon material-icons">mail_outline</i>联系我们</h3>
							</div>
						</div>
						<div class="mdui-row mdui-row-gapless">
							<div class="mdui-col-md-12">
								<ul class="swap">
									<li><strong>意见反馈</strong></li>
									<a href="">https://github.com/tuna/issues</a>
									<li><strong>发送邮件</strong></li>
									<a href="">173533287@qq.com</a>
									<li><strong>在线交流</strong></li>
									<a href="">173533287@qq.com</a>
								</ul>
							</div>
						</div>
						<div class="mdui-row mdui-row-gapless">
							<div class="mdui-col-md-12">
								<h3><i class="mdui-icon material-icons">link</i>相关链接</h3>
							</div>
						</div>
						<div class="mdui-row mdui-row-gapless">
							<div class="mdui-col-md-12">
								<ul class="link">
									<li><a href="">使用帮助</a></li>
									<li><a href="">服务器状态</a></li>
									<li><a href="">同步状态</a></li>
									<li><a href="">镜像管理器源码</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="Footer">
			<p>
				本站由不想沉默创办、运行和维护。<br />
				不想沉默开源镜像站的建立用于个人学习交流。<br />
				本站相关源码可在<a href="" style="text-decoration: none; color: #2196F3;">github</a>或<a href="" style="text-decoration: none; color: #2196F3;">不想沉默博客</a>获取。<br />
				使用本站源码请保留出处。<br />
			</p>
			<p class="mdui-text-center">蒙ICP备20003125号</p>
		</div>
	</body>
</html>
<script src="js/mdui.min.js"></script>
<script>
	var tables=document.getElementById("tables");
	var xmlhttp=new XMLHttpRequest();
	var navigations=document.getElementsByClassName("navigations")[0];
	var search=document.getElementsByClassName("search")[0];
	var num="data";
	loadxmlDoc(num);
	function createElements(){
		var div=document.createElement("div");
		var div2=document.createElement("div");
		var div3=document.createElement("div");
		var div4=document.createElement("div");
		var a=document.createElement("a");
		var strong=document.createElement("strong");
		var strong2=document.createElement("strong");
		var strong3=document.createElement("strong");
		div.setAttribute("class","mdui-row mdui-row-gapless LI");
		div2.setAttribute("class","mdui-col-md-5 mdui-col-xs-5");
		div3.setAttribute("class","mdui-col-md-4 mdui-col-xs-4");
		div4.setAttribute("class","mdui-col-md-3 mdui-col-xs-3");
		a.appendChild(strong);
		div2.appendChild(a);
		div3.appendChild(strong2);
		div4.appendChild(strong3);
		div.appendChild(div2);
		div.appendChild(div4);
		div.appendChild(div3);
		var arrays= new Array();
		arrays[0]=strong;
		arrays[1]=strong2;
		arrays[2]=strong3;
		arrays[3]=a;
		arrays[4]=div;
		return arrays;
	}
	function menu(){
		if(navigations.style.height==""||navigations.style.height=="0px"){
			navigations.style.height="150px";
		}else{
			navigations.style.height="0px";
		}
	}
	function loadxmlDoc(num){
		xmlhttp.onreadystatechange=function(){
			if(xmlhttp.readyState==4 && xmlhttp.status==200){
				var json=xmlhttp.responseText;
				var JSONs=JSON.parse(json);
				tables.innerHTML="";
				for(var i=-1;i<JSONs.sites.length;i++){
					var Arrays=createElements();
					var arrays=null;
					if(JSONs.sites.length!=0){
						arrays=JSONs.sites[0].id.split("/");
						if(i==-1&&arrays.length>2){
								Arrays[0].innerText="返回上一级";
								Arrays[1].innerText="-";
								Arrays[2].innerText="-";
								if(arrays.length==3){
									Arrays[3].setAttribute("href","javascript:loadxmlDoc("+"\""+"data"+"\""+");");
								}else{
									var id="";
									for(var j=0;j<arrays.length-2;j++){
										if(j==0){
											id=id+arrays[j];
										}else{
											id=id+"/"+arrays[j];	
										}
									}
									Arrays[3].setAttribute("href","javascript:loadxmlDoc("+"\""+id+"\""+");");
								}
						}else{
								if(i==-1){
									i=i+1;
								}
								Arrays[0].innerText=JSONs.sites[i].name;
								Arrays[1].innerText=JSONs.sites[i].date;
								if(JSONs.sites[i].size!=undefined){
									Arrays[3].setAttribute("href",JSONs.sites[i].id);
									Arrays[3].setAttribute("target","_blank");
									Arrays[2].innerText=JSONs.sites[i].size;
								}else{
									Arrays[3].setAttribute("href","javascript:loadxmlDoc("+"\""+JSONs.sites[i].id+"\""+");");
									Arrays[2].innerText="-";
								}
						}
					}else{
						if(num==""){
							Arrays[0].innerText="返回上一级";
							Arrays[1].innerText="-";
							Arrays[2].innerText="-";
							Arrays[3].setAttribute("href","javascript:loadxmlDoc("+"\""+"data"+"\""+");");
                        }else{
                            var nums=num.split("/");
                            var id="";
                            for(var k=0;k<nums.length-1;k++){
                                if(k==0){
                                    id=id+nums[k];
                                }else{
                                    id=id+"/"+nums[k];
                                }
                            }
							Arrays[0].innerText="返回上一级";
							Arrays[1].innerText="-";
							Arrays[2].innerText="-";
							Arrays[3].setAttribute("href","javascript:loadxmlDoc("+"\""+id+"\""+");");
                        }
					}
					tables.appendChild(Arrays[4]);
				}
			}
		}
		xmlhttp.open("GET","process.php?dir="+num,true);
		xmlhttp.send();
	}
	function Search(){
		var keywords=search.value;
		xmlhttp.onreadystatechange=function(){
			if(xmlhttp.readyState==4 && xmlhttp.status==200){
				var json=xmlhttp.responseText;
				var JSONs=JSON.parse(json);
				tables.innerHTML="";
				for(var i=0;i<JSONs.sites.length;i++){
					var Arrays=createElements();
					Arrays[0].innerText=JSONs.sites[i].name;
					Arrays[1].innerText=JSONs.sites[i].date;
					if(JSONs.sites[i].size!=undefined){
						Arrays[3].setAttribute("href",JSONs.sites[i].id);
						Arrays[3].setAttribute("target","_blank");
						Arrays[2].innerText=JSONs.sites[i].size;
					}else{
						Arrays[3].setAttribute("href","javascript:loadxmlDoc("+"\""+JSONs.sites[i].id+"\""+");");
						Arrays[2].innerText="-";
					}
					tables.appendChild(Arrays[4]);
				}
			}
		}
		xmlhttp.open("GET","process.php?dir=data&keywords="+keywords,true);
		xmlhttp.send();
	}
</script>